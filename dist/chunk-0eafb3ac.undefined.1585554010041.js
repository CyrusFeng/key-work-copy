(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eafb3ac"],{"455b":function(t,e,a){},"4ad4":function(t,e,a){"use strict";var s=a("5cb8"),i=a.n(s);i.a},"5cb8":function(t,e,a){},"6e78":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("header",[s("div",{staticClass:"rank"},[s("div",{staticClass:"block left"},[s("p",{staticClass:"num"},[t._v(t._s(void 0===t.pointObj.index?"-":t.pointObj.index))]),t._m(0)]),s("div",{staticClass:"middle"},[s("router-link",{staticClass:"user_pic_wrap",attrs:{tag:"div",to:{name:"ranking",params:{}}},nativeOn:{click:function(t){}}},[s("p",{staticClass:"user_pic"},[t.$store.state.avatarUrl?s("img",{attrs:{src:t.$store.state.avatarUrl,alt:""}}):s("img",{attrs:{src:a("ed3a")}})])]),s("p",{staticClass:"name"},[t._v(t._s(t.$store.state.name))])],1),s("div",{staticClass:"block right"},[s("p",{staticClass:"num"},[t._v(t._s(void 0===t.pointObj.score?"-":t.pointObj.score))]),t._m(1)])])]),s("div",{staticClass:"control"},[s("c-tab",{attrs:{titlebar:t.titlebar,currentIndex:t.currentIndex,element:t.element,"show-num":!1},on:{"update:currentIndex":t.getCurrentIndex,"update:element":function(e){t.element=e}}}),s("div",{staticClass:"statistics"},[s("div",{staticClass:"swiper-container"},[s("div",{staticClass:"swiper-wrapper"},[s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"block-wrapper"},[s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"charge",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[s("span",{staticClass:"num blue"},[t._v(t._s(t.charge.all||0))]),s("span",{staticClass:"des"},[t._v("本月工作")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"charge",timeRange:0,taskStatus:1}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[s("span",{staticClass:"num green"},[t._v(t._s(t.charge.finished||0))]),s("span",{staticClass:"des"},[t._v("本月已完成")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"charge",timeRange:0,taskStatus:2}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[s("span",{staticClass:"num cyan"},[t._v(t._s(t.charge.doing||0))]),s("span",{staticClass:"des"},[t._v("本月推进中")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"charge",timeRange:0,taskStatus:3}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[s("span",{staticClass:"num orange"},[t._v(t._s(t.charge.unfinish||0))]),s("span",{staticClass:"des"},[t._v("未完成")])])],1),s("div",{staticClass:"entrys"},[s("router-link",{staticClass:"btn1",attrs:{tag:"div",to:{name:"list",params:{taskType:"charge",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("全部工作")])])]),s("router-link",{staticClass:"btn2",attrs:{tag:"div",to:{name:"taskadd"}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("工作新增")])])]),s("router-link",{staticClass:"btn3",attrs:{tag:"div",to:{name:"processcenter",params:{process_taskType:"approval",process_taskStatus:"审批中"}}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("流程中心")]),t.showHint?s("span",{staticClass:"hint"}):t._e()])]),s("router-link",{staticClass:"btn4",attrs:{tag:"div",to:{name:"ranking",params:{}}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("排行查看")])])])],1)]),s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"block-wrapper"},[s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"sign",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[s("span",{staticClass:"num blue"},[t._v(t._s(t.sign.all||0))]),s("span",{staticClass:"des"},[t._v("本月工作")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"sign",timeRange:0,taskStatus:1}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[s("span",{staticClass:"num green"},[t._v(t._s(t.sign.finished||0))]),s("span",{staticClass:"des"},[t._v("本月已完成")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"sign",timeRange:0,taskStatus:2}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[s("span",{staticClass:"num cyan"},[t._v(t._s(t.sign.doing||0))]),s("span",{staticClass:"des"},[t._v("本月推进中")])]),s("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list",params:{taskType:"sign",timeRange:0,taskStatus:3}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[s("span",{staticClass:"num orange"},[t._v(t._s(t.sign.unfinished||0))]),s("span",{staticClass:"des"},[t._v("未完成")])])],1),s("div",{staticClass:"entrys"},[s("router-link",{staticClass:"btn1",attrs:{tag:"div",to:{name:"list",params:{taskType:"sign",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("全部工作")])])]),s("router-link",{staticClass:"btn2",attrs:{tag:"div",to:{name:"tempAdd",params:{}}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("临时下发")])])]),s("router-link",{staticClass:"btn3",attrs:{tag:"div",to:{name:"processcenter",params:{process_taskType:"approval",process_taskStatus:"审批中"}}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("流程中心")]),t.showHint?s("span",{staticClass:"hint"}):t._e()])]),s("router-link",{staticClass:"btn4",attrs:{tag:"div",to:{name:"ranking",params:{}}}},[s("p",[s("i",{staticClass:"icon"}),s("span",{staticClass:"title"},[t._v("排行查看")])])])],1)])])])])],1),s("FullPageLoading",{attrs:{loading:t.loading1}}),s("FullPageLoading",{attrs:{loading:t.loading2}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"des"},[a("i",{staticClass:"icon"}),a("span",[t._v("排名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"des"},[a("i",{staticClass:"icon"}),a("span",[t._v("积分")])])}],n=(a("5df3"),a("ac6a"),a("41d6")),r=(a("455b"),a("bc3a")),o=a.n(r),c=a("4328"),l=a.n(c),d=a("e0eb"),p=[{name:"我负责的"},{name:"我下发的"}],g={name:"index",data:function(){return{titlebar:p,detailSwiper:null,currentIndex:0,element:null,openId:"",avatar:"",name:"",charge:{},sign:{},pointObj:{score:void 0,index:void 0},loading1:!1,loading2:!1,showHint:!1}},beforeRouteEnter:function(t,e,a){qing.call("setWebViewTitle",{title:"首页"}),a(function(t){console.log(t.$store.state.openID),t.detailSwiper=new n["a"](".swiper-container",{pagination:{el:".swiper-pagination"},on:{slideChangeTransitionStart:function(){console.log(t.detailSwiper.activeIndex),t.currentIndex=t.detailSwiper.activeIndex}}})})},created:function(){console.log("created")},beforeDestroy:function(){console.log("beforeDestroy")},beforeRouteLeave:function(t,e,a){console.log("beforeRouteLeave"),a()},mounted:function(){var t=this;console.log("mounted");var e=new Date,a=(d["a"].getFirstDateOfMonthHMS(e),d["a"].getLastDateOfMonthHMS(e),"http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/getAmount"),s={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:"xxx",signerID:"xxx",life_done_type:void 0,helperID:void 0,level:1},i={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:void 0,signerID:void 0,life_done_type:void 0,helperID:"xxx",level:1};s.life_done_type=void 0,s.state=[2,3,4],i.life_done_type=void 0,i.state=[2,3,4];var n={name:"all",param:[s,i]},r={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:"xxx",signerID:"xxx",life_done_type:void 0,helperID:void 0,level:1},c={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:void 0,signerID:void 0,life_done_type:void 0,helperID:"xxx",level:1};r.starttime=["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],r.life_done_type=1,r.state=[3],r.life_state=3,c.starttime=["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],c.life_done_type=1,c.state=[3],c.life_state=3;var p={name:"finished",param:[r,c]},g={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:"xxx",signerID:"xxx",life_done_type:void 0,helperID:void 0,level:1},v={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:void 0,signerID:void 0,life_done_type:void 0,helperID:"xxx",level:1};g.starttime=["1970-01-01 00:00:00",d["a"].getYearMonthDayHMSString(e)],g.endtime=[d["a"].getYearMonthDayHMSString(e),"9999-12-31 23:59:59"],g.life_done_type=void 0,g.state=[2],v.starttime=["1970-01-01 00:00:00",d["a"].getYearMonthDayHMSString(e)],v.endtime=[d["a"].getYearMonthDayHMSString(e),"9999-12-31 23:59:59"],v.life_done_type=void 0,v.state=[2];var m={name:"doing",param:[g,v]},u={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:"xxx",signerID:"xxx",life_done_type:void 0,helperID:void 0,level:1},f={endtime:[d["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],state:void 0,chargerID:void 0,signerID:void 0,life_done_type:void 0,helperID:"xxx",level:1};u.starttime=["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],u.life_done_type=0,u.state=[3],u.life_state=3,f.starttime=["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],f.life_done_type=0,f.state=[3],f.life_state=3;var h={state:[2],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],endtime:[d["a"].getFirstDateOfMonthHMS(e),d["a"].getYearMonthDayHMSString(e)],chargerID:"xxx",signerID:"xxx",level:1},_={state:[2],starttime:["1970-01-01 00:00:00",d["a"].getLastDateOfMonthHMS(e)],endtime:[d["a"].getFirstDateOfMonthHMS(e),d["a"].getYearMonthDayHMSString(e)],helperID:"xxx",level:1},k={name:"unfinish",param:[u,f,h,_]},C=[n,p,m,k],D=["charge","sign"].map(function(e){return C.forEach(function(a){a.param.forEach(function(a,s){"charge"===e?(a.signerID=void 0,s%2===0?(a.chargerID=t.$store.state.openID,a.helperID=void 0):(a.chargerID=void 0,a.helperID=t.$store.state.openID)):"sign"===e&&(a.chargerID=void 0,a.signerID=t.$store.state.openID,a.helperID=void 0)})}),o()({method:"post",url:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:l.a.stringify({jsonStr:JSON.stringify(C)})})});this.loading1=!0,Promise.all(D).then(function(e){t.loading1=!1,e.length>0&&e.forEach(function(e,a){if(e.data.success){var s=e.data.result;0===a?t.charge=s:1===a&&(t.sign=s)}})}),this.$api.rank.rankList("http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/rankingCopy",{},function(e){t.loading2=!1,console.log(e),t.list=e.data.result.pointsList,t.list.forEach(function(e,a){e.personID===t.$store.getters.openID&&(t.pointObj.score=e.score,t.pointObj.index=e.rank)})},function(){});var x={point_state:[1],point_approverID:this.$store.getters.openID},M=[];M.push(x);var S="http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/getList",y={page:1,pageAmount:1,queryTaskList:JSON.stringify(M)};o()({method:"post",url:S,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:l.a.stringify(y)}).then(function(e){console.log(e.data),e.data.result.amount>0&&(t.showHint=!0)}).catch(function(){})},methods:{getCurrentIndex:function(t){this.currentIndex=t,this.detailSwiper.slideTo(this.currentIndex),console.log("e",t)}}},v=g,m=(a("4ad4"),a("2877")),u=Object(m["a"])(v,s,i,!1,null,"0fd1765e",null);e["default"]=u.exports},ed3a:function(t,e,a){t.exports=a.p+"img/defaultAvator.fc6015a6.png"}}]);