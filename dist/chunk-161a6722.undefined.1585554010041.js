(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-161a6722"],{"0502":function(t,e,a){},"3e0f":function(t,e,a){"use strict";var n=a("0502"),r=a.n(n);r.a},"455b":function(t,e,a){},"791e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"control"},[a("div",{staticClass:"head-wrap"},[a("div",{staticClass:"tab-outer-wrap"},[t.titlebar.length>0?a("c-tab",{attrs:{titlebar:t.titlebar,currentIndex:t.currentIndex,element:t.element,"show-num":!1},on:{"update:currentIndex":t.getCurrentIndex,"update:element":function(e){t.element=e}}}):t._e()],1),a("div",{staticClass:"statistics"},[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.titlebar,function(e){return a("div",{staticClass:"swiper-slide"},[a("div",{staticClass:"block-wrapper"},[a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list-clerk",params:{taskType:"charge",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[a("span",{staticClass:"num blue"},[t._v(t._s(e.charge.all||0))]),a("span",{staticClass:"des"},[t._v("本月工作")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list-clerk",params:{taskType:"charge",timeRange:0,taskStatus:1}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[a("span",{staticClass:"num green"},[t._v(t._s(e.charge.finished||0))]),a("span",{staticClass:"des"},[t._v("本月已完成")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list-clerk",params:{taskType:"charge",timeRange:0,taskStatus:2}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[a("span",{staticClass:"num cyan"},[t._v(t._s(e.charge.doing||0))]),a("span",{staticClass:"des"},[t._v("本月推进中")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"list-clerk",params:{taskType:"charge",timeRange:0,taskStatus:3}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[a("span",{staticClass:"num orange"},[t._v(t._s(e.charge.unfinish||0))]),a("span",{staticClass:"des"},[t._v("未完成")])])],1)])}),0)])])]),a("div",{staticClass:"entrys"},[a("router-link",{staticClass:"btn1",attrs:{tag:"div",to:{name:"list-clerk",params:{taskType:"charge",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","charge")}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("全部工作")])])]),a("router-link",{staticClass:"btn2",attrs:{tag:"div",to:{name:"taskadd"}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("工作新增")])])]),a("router-link",{staticClass:"btn3",attrs:{tag:"div",to:{name:"process-center-clerk",params:{process_taskType:"charge",process_taskStatus:"审批中"}}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("流程中心")])])])],1)]),a("FullPageLoading",{attrs:{loading:t.loading1}}),a("FullPageLoading",{attrs:{loading:t.loading2}})],1)},r=[],i=(a("5df3"),a("ac6a"),a("41d6")),s=(a("455b"),a("bc3a")),o=a.n(s),l=a("e0eb"),c=a("4328"),g=a.n(c),d={name:"index",data:function(){return{titlebar:[],detailSwiper:null,currentIndex:0,element:null,openId:"",avatar:"",name:"",charge:{},sign:{},loading1:!1,loading2:!1}},beforeRouteEnter:function(t,e,a){qing.call("setWebViewTitle",{title:"办事员首页"}),a(function(t){var e=new Date,a=(l["a"].getFirstDateOfMonthHMS(e),l["a"].getLastDateOfMonthHMS(e),"http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/getAmount");t.loading1=!0,o()({method:"post",url:"http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/getLeader",headers:{"Content-Type":"application/json; charset=UTF-8"},data:JSON.stringify([t.$store.getters.openID])}).then(function(e){t.loading1=!1,t.loading2=!0;var n=e.data.result;t.$store.commit("setLeaderArr",n);var r=t.createQueryList("","charge",0),s=n.map(function(t){return r.forEach(function(e){e.param.forEach(function(e){void 0!==e.chargerID&&(e.chargerID=t.fleaderID),void 0!==e.helperID&&(e.helperID=t.fleaderID)})}),o()({method:"post",url:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:g.a.stringify({jsonStr:JSON.stringify(r)})})});Promise.all(s).then(function(e){if(e.length>0){e.forEach(function(e,a){if(e.data.success){var n=e.data.result,r={};r.charge=n,t.titlebar.push(r)}}),t.titlebar.length>0&&(t.loading2=!1);for(var a=0;a<n.length;a++)t.titlebar[a].name=n[a].fleaderName;t.$nextTick(function(){t.detailSwiper=new i["a"](".swiper-container",{pagination:{el:".swiper-pagination"},on:{slideChangeTransitionStart:function(){console.log(t.detailSwiper.activeIndex),t.currentIndex=t.detailSwiper.activeIndex}}})})}})}).catch(function(t){alert("error")})})},beforeDestroy:function(){console.log("beforeDestroy")},beforeRouteLeave:function(t,e,a){console.log("beforeRouteLeave"),a()},mounted:function(){console.log("mounted")},methods:{getCurrentIndex:function(t){this.currentIndex=t,this.detailSwiper.slideTo(this.currentIndex),console.log("e",t)},createQueryList:function(t,e,a){var n=new Date,r={state:[2,3,4],level:1},i={state:[2,3,4],level:1},s={state:[3],life_done_type:1,level:1,life_state:3},o={state:[3],life_done_type:1,level:1,life_state:3},c={state:[2],level:1},g={state:[2],level:1},d={state:[3],life_done_type:0,level:1,life_state:3},m={state:[3],life_done_type:0,level:1,life_state:3},h={state:[2],level:1},p={state:[2],level:1},u={state:[4],level:1},f={state:[4],level:1};"charge"===e?(r.chargerID=t,s.chargerID=t,c.chargerID=t,d.chargerID=t,h.chargerID=t,u.chargerID=t,i.helperID=t,o.helperID=t,g.helperID=t,m.helperID=t,p.helperID=t,f.helperID=t,r.signerID=void 0,s.signerID=void 0,c.signerID=void 0,d.signerID=void 0,h.signerID=void 0,u.signerID=void 0):"sign"===e&&(r.chargerID=void 0,s.chargerID=void 0,c.chargerID=void 0,d.chargerID=void 0,h.chargerID=void 0,u.chargerID=void 0,i.helperID=void 0,o.helperID=void 0,g.helperID=void 0,m.helperID=void 0,p.helperID=void 0,f.helperID=void 0,r.signerID=t,s.signerID=t,c.signerID=t,d.signerID=t,h.signerID=t,u.signerID=t),0===a?(r.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],r.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],s.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],s.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],c.endtime=[l["a"].getYearMonthDayHMSString(n),"9999-12-31 23:59:59"],c.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],d.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],d.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],h.endtime=[l["a"].getFirstDateOfMonthHMS(n),l["a"].getYearMonthDayHMSString(n)],h.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],i.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],i.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],o.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],o.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],g.endtime=[l["a"].getYearMonthDayHMSString(n),"9999-12-31 23:59:59"],g.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],m.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],m.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],p.endtime=[l["a"].getFirstDateOfMonthHMS(n),l["a"].getYearMonthDayHMSString(n)],p.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],u.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],u.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"],f.starttime=["1970-01-01 00:00:00",l["a"].getLastDateOfMonthHMS(n)],f.endtime=[l["a"].getFirstDateOfMonthHMS(n),"9999-12-31 23:59:59"]):1===a&&(r.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],r.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],s.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],s.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],c.endtime=[l["a"].getYearMonthDayHMSString(n),"9999-12-31 23:59:59"],c.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],d.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],d.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],h.endtime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],h.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],u.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],u.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],i.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],i.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],o.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],o.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],g.endtime=[l["a"].getYearMonthDayHMSString(n),"9999-12-31 23:59:59"],g.starttime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],m.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],m.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],p.endtime=["1970-01-01 00:00:00",l["a"].getYearMonthDayHMSString(n)],p.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],f.starttime=["1970-01-01 00:00:00","9999-12-31 23:59:59"],f.endtime=["1970-01-01 00:00:00","9999-12-31 23:59:59"]);var D={},v={},M={},S={},I={};"charge"===e?(D={name:"all",param:[r,i]},v={name:"finished",param:[s,o]},M={name:"doing",param:[c,g]},S={name:"unfinish",param:[d,m,h,p]},I={name:"abolish",param:[u,f]}):"sign"===e&&(D={name:"all",param:[r]},v={name:"finished",param:[s]},M={name:"doing",param:[c]},S={name:"unfinish",param:[d,h]},I={name:"abolish",param:[u]});var k=[];return 0===a?k=[D,v,M,S,I]:1===a&&(k=[D,v,M,S,I]),k}}},m=d,h=(a("3e0f"),a("2877")),p=Object(h["a"])(m,n,r,!1,null,"7163e844",null);e["default"]=p.exports}}]);