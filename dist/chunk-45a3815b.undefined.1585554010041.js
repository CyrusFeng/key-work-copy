(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45a3815b"],{"0a4e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],ref:"searchWrap",staticClass:"materiel-search-wrap",on:{click:function(e){}}},[s("div",[s("div",{staticClass:"search-bar-wrap"},[s("div",{staticClass:"search-bar"},[s("i",{staticClass:"search-icon"}),s("c-input",{attrs:{tips:"请输入重点工作名称/姓名","background-color":"#e7e7e7","input-value":e.selectedResult},on:{"update:inputValue":function(t){e.selectedResult=t}}}),s("i",{staticClass:"icon clear",on:{click:e.clearSearchResult}})],1),s("span",{staticClass:"cancelBtn",on:{click:e.closeSearch}},[e._v("取消")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"label"},[e._v("时间区间")]),s("div",{staticClass:"right yunzhijia"},[s("span",[e._v(e._s(e.startDate)+"-"+e._s(e.endDate))]),s("i",{staticClass:"icon date",on:{click:function(t){return e.selectDate("during")}}}),s("i",{staticClass:"icon cancel",on:{click:e.cancelDate}})]),s("calendar",{attrs:{show:e.showDatePicker,mode:e.model},on:{"update:show":function(t){e.showDatePicker=t},change:function(t){return e.onChange(t)}}})],1),s("div",{staticClass:"checkbox-wrap"},[s("checkbox",{attrs:{options:e.sourceArr},on:{"value-change":function(t){return e.radioOnChange(t)}}})],1)]),s("div",{staticClass:"button-wrap"},[s("div",{staticClass:"btn2",on:{click:e.onClickToSearch}},[s("span",[e._v("搜索")])])])])},r=[],n=(s("28a5"),s("ac6a"),s("bc3a"),s("e0eb")),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"selected-all"},[s("label",{staticClass:"x-option",on:{click:e.clickAll}},[s("div",{staticClass:"check-box",class:{checked:e.selected.length===e.options.length}},[s("transition",{attrs:{name:"fill-fade"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.selected.length===e.options.length,expression:"selected.length === options.length"}],staticClass:"fill"})])],1),s("span",{staticClass:"label-text"},[e._v("全选")])])]),s("div",{staticClass:"x-radio",class:{vertical:e.vertical}},e._l(e.options,function(t,a){return s("x-option",{key:t.value,attrs:{option:t,index:a,selected:e.selected},on:{"update:selected":e.updateSelected}})}),1)])},c=[],o=(s("c5f6"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"x-option",on:{click:e.handleClick}},[s("div",{staticClass:"check-box",class:{checked:e.selected.indexOf(e.option.value)>-1}},[s("transition",{attrs:{name:"fill-fade"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.selected.indexOf(e.option.value)>-1,expression:"selected.indexOf(option.value)>-1"}],staticClass:"fill"})])],1),s("span",{staticClass:"label-text"},[e._v(e._s(e.option.label))])])}),l=[],u={name:"option",props:{option:{type:Object,required:!0},current:Number,index:Number,selected:{type:Array}},methods:{handleClick:function(){this.$emit("update:selected",this.option.value)}}},h=u,d=(s("13e7"),s("2877")),f=Object(d["a"])(h,o,l,!1,null,"add38318",null),p=f.exports,v={name:"radio",components:{xOption:p},props:{options:{type:Array,required:!0},vertical:{type:Boolean,default:!1},defaultIndex:Number},data:function(){return{selected:[]}},watch:{selected:function(e){this.$emit("value-change",this.selected)}},created:function(){},methods:{updateSelected:function(e){var t=this.selected.indexOf(e);-1===t?this.selected.push(e):this.selected.splice(t,1)},clickAll:function(){this.selected.length>0?this.selected=[]:this.selected=this.options.map(function(e){return e.value})}}},m=v,g=(s("4689"),Object(d["a"])(m,i,c,!1,null,"162377e0",null)),b=g.exports,S={name:"taskSearch",components:{checkbox:b},props:{url:{type:String},open:{type:Boolean}},data:function(){return{timer:null,labelStatus:!1,searchStatus:!0,searchResult:[],selectedResult:"",showResult:!1,showDatePicker:!1,model:"during",startDate:"",endDate:"",sourceArr:[],sourceIdArr:[],selectSource:[]}},mounted:function(){0===this.$store.getters.currentRole?this.sourceIdArr=["1","2","3","4","5","6","7","8","9","3ed89f36-8932-4b50-991f-b66477f3a89e"]:1===this.$store.getters.currentRole?this.sourceIdArr=["1","2","3","4","5","6","7","8","9","3ed89f36-8932-4b50-991f-b66477f3a89e"]:2===this.$store.getters.currentRole?this.sourceIdArr=["1","2","3","4","5","6","7","8","9","3ed89f36-8932-4b50-991f-b66477f3a89e"]:3===this.$store.getters.currentRole?this.sourceIdArr=["1","2","3","4","5","6","7","8","9","3ed89f36-8932-4b50-991f-b66477f3a89e"]:4===this.$store.getters.currentRole&&(this.sourceIdArr=JSON.parse(this.$store.getters.sourceIDs),0===this.sourceIdArr.length&&(this.sourceIdArr=["1","2","3","4","5","6","7","8","9","3ed89f36-8932-4b50-991f-b66477f3a89e"])),this.sourceArr=this.sourceIdArr.map(function(e){switch(e){case"1":return{value:e,label:"董事会"};case"2":return{value:e,label:"监事会"};case"3":return{value:e,label:"执委会"};case"4":return{value:e,label:"经营计划会"};case"5":return{value:e,label:"职能会"};case"6":return{value:e,label:"专项会"};case"7":return{value:e,label:"主席安排"};case"8":return{value:e,label:"主席工作报告"};case"9":return{value:e,label:"日常经营"};case"3ed89f36-8932-4b50-991f-b66477f3a89e":return{value:e,label:"日常会议安排"}}})},methods:{search:function(e){this.selectedResult=e.target.value},labelHidden:function(e){this.labelStatus=!0,""===e.target.value&&(this.labelStatus=!1)},resultToSearchBar:function(e,t){this.selectedResult=e.target.textContent,this.$emit("update:selected",t),this.hiddenSearch(),this.searchResult=[]},hiddenSearch:function(){this.showResult=!1},clearSearchResult:function(){this.selectedResult=""},closeSearch:function(){this.$emit("update:open",!1)},onClickToSearch:function(){var e=new Date,t={endtime:void 0,starttime:void 0,state:void 0,life_done_type:void 0,level:1};t.endtime=[n["a"].getFirstDateOfMonthHMS(e),"9999-12-31"],t.starttime=["1970-01-01",n["a"].getLastDateOfMonthHMS(e)],t.life_done_type=void 0,t.state=[2,3,4];var s=[];s=this.generatorQueryList(),this.$emit("update:queryTaskList",s),this.$emit("update:open",!1)},generatorQueryList:function(){var e=this,t=[],s=[];if(s=this.selectedResult?this.generatorQuery(this.selectedResult,this.startDate,this.endDate):this.generatorQuery(void 0,this.startDate,this.endDate),console.log("-------------basequery"),console.log(s),this.selectSource.length>0?this.selectSource.forEach(function(e){var a;a=JSON.parse(JSON.stringify(s)),console.log(a),a.forEach(function(t){t.sourceID=e}),t=t.concat(a),console.log("------------querylist"),console.log(t)}):this.sourceIdArr.forEach(function(e){var a;a=JSON.parse(JSON.stringify(s)),console.log(a),a.forEach(function(t){t.sourceID=e}),t=t.concat(a),console.log("------------querylist"),console.log(t)}),0===this.$store.getters.currentRole){var a=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(t)),n=JSON.parse(JSON.stringify(t));a.map(function(t){return t.chargerID=e.$store.state.openID}),r.map(function(t){return t.helperID=e.$store.state.openID}),n.map(function(t){return t.signerID=e.$store.state.openID}),t=a.concat(r,n)}else if(1===this.$store.getters.currentRole){var i=JSON.parse(JSON.stringify(t));i.map(function(e){return e.state=[2,3,4]}),t=i}else if(3===this.$store.getters.currentRole){var c=JSON.parse(JSON.stringify(t)),o=JSON.parse(JSON.stringify(t));c.map(function(e){return e.chargerID="default"}),o.map(function(e){return e.helperID="default"}),t=c.concat(o)}return t},generatorQuery:function(e,t,s,a){var r=new Date;return e?[{projectName:e,starttime:s?["1970-01-01 00:00:00",this.dateTransform(s,"23:59:59")]:["1970-01-01 00:00:00",n["a"].getYearMonthDayHMSString(r)],endtime:t?[this.dateTransform(t,"00:00:00"),"9999-12-31 23:59:59"]:["1970-01-01 00:00:00","9999-12-31 23:59:59"],level:1,state:[2,3,4]},{chargerName:e,starttime:s?["1970-01-01 00:00:00",this.dateTransform(s,"23:59:59")]:["1970-01-01 00:00:00",n["a"].getYearMonthDayHMSString(r)],endtime:t?[this.dateTransform(t,"00:00:00"),"9999-12-31 23:59:59"]:["1970-01-01 00:00:00","9999-12-31 23:59:59"],level:1,state:[2,3,4]},{helperName:e,starttime:s?["1970-01-01 00:00:00",this.dateTransform(s,"23:59:59")]:["1970-01-01 00:00:00",n["a"].getYearMonthDayHMSString(r)],endtime:t?[this.dateTransform(t,"00:00:00"),"9999-12-31 23:59:59"]:["1970-01-01 00:00:00","9999-12-31 23:59:59"],level:1,state:[2,3,4]},{signerName:e,starttime:s?["1970-01-01 00:00:00",this.dateTransform(s,"23:59:59")]:["1970-01-01 00:00:00",n["a"].getYearMonthDayHMSString(r)],endtime:t?[this.dateTransform(t,"00:00:00"),"9999-12-31 23:59:59"]:["1970-01-01 00:00:00","9999-12-31 23:59:59"],level:1,state:[2,3,4]}]:[{starttime:s?["1970-01-01 00:00:00",this.dateTransform(s,"23:59:59")]:["1970-01-01 00:00:00",n["a"].getYearMonthDayHMSString(r)],endtime:t?[this.dateTransform(t,"00:00:00"),"9999-12-31 23:59:59"]:["1970-01-01 00:00:00","9999-12-31 23:59:59"],level:1,state:[2,3,4]}]},onChange:function(e){this.startDate=e.map(function(e){return e.format("YYYY/MM/DD")})[0],this.endDate=e.map(function(e){return e.format("YYYY/MM/DD")})[1]},selectDate:function(e){this.model=e,this.showDatePicker=!0},cancelDate:function(){this.startDate="",this.endDate=""},radioOnChange:function(e){this.selectSource=e,console.log(e)},dateTransform:function(e,t){var s=e.split("/"),a=s.join("-"),r=a+" "+t;return r}}},D=S,y=(s("96f2"),Object(d["a"])(D,a,r,!1,null,"9f84e41e",null));t["a"]=y.exports},"13e7":function(e,t,s){"use strict";var a=s("20f4"),r=s.n(a);r.a},"20f4":function(e,t,s){},4689:function(e,t,s){"use strict";var a=s("bf2f"),r=s.n(a);r.a},"96f2":function(e,t,s){"use strict";var a=s("fd46"),r=s.n(a);r.a},bf2f:function(e,t,s){},fd46:function(e,t,s){}}]);