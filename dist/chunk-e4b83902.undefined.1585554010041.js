(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4b83902"],{"2ebd":function(t,e,a){},"454f":function(t,e,a){a("46a7");var r=a("584a").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},"455b":function(t,e,a){},"46a7":function(t,e,a){var r=a("63b6");r(r.S+r.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5934:function(t,e,a){"use strict";var r=a("2ebd"),n=a.n(r);n.a},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var r=a("5ca1"),n=a("990b"),s=a("6821"),i=a("11e9"),o=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=s(t),c=i.f,l=n(r),u={},d=0;while(l.length>d)a=c(r,e=l[d++]),void 0!==a&&o(u,e,a);return u}})},"990b":function(t,e,a){var r=a("9093"),n=a("2621"),s=a("cb7c"),i=a("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=r.f(s(t)),a=n.f;return a?e.concat(a(t)):e}},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var r=a("85f2"),n=a.n(r);function s(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},c799:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"control"},[a("div",{staticClass:"head-wrap"},[a("div",{staticClass:"tab-outer-wrap"},[t.titlebar.length>0?a("c-tab",{attrs:{titlebar:t.titlebar,currentIndex:t.currentIndex,element:t.element,"show-num":!1},on:{"update:currentIndex":t.getCurrentIndex,"update:element":function(e){t.element=e}}}):t._e()],1),a("div",{staticClass:"statistics"},[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.titlebar,function(e){return a("div",{staticClass:"swiper-slide"},[a("div",{staticClass:"block-wrapper"},[a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"listSourceAdmin",params:{taskType:"sign",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[a("span",{staticClass:"num blue"},[t._v(t._s(e.charge.all||0))]),a("span",{staticClass:"des"},[t._v("本月工作")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"listSourceAdmin",params:{taskType:"sign",timeRange:0,taskStatus:1}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[a("span",{staticClass:"num green"},[t._v(t._s(e.charge.finished||0))]),a("span",{staticClass:"des"},[t._v("本月已完成")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"listSourceAdmin",params:{taskType:"sign",timeRange:0,taskStatus:2}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[a("span",{staticClass:"num cyan"},[t._v(t._s(e.charge.doing||0))]),a("span",{staticClass:"des"},[t._v("本月推进中")])]),a("router-link",{staticClass:"block",attrs:{tag:"div",to:{name:"listSourceAdmin",params:{taskType:"sign",timeRange:0,taskStatus:3}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[a("span",{staticClass:"num orange"},[t._v(t._s(e.charge.unfinish||0))]),a("span",{staticClass:"des"},[t._v("未完成")])])],1)])}),0)])])]),a("div",{staticClass:"entrys"},[a("router-link",{staticClass:"btn1",attrs:{tag:"div",to:{name:"listSourceAdmin",params:{taskType:"sign",timeRange:0,taskStatus:0}}},nativeOn:{click:function(e){return t.$store.commit("setTaskType","sign")}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("全部工作")])])]),a("router-link",{staticClass:"btn2",attrs:{tag:"div",to:{name:"tempAdd"}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("临时下发")])])]),a("router-link",{staticClass:"btn3",attrs:{tag:"div",to:{name:"processCenterSourceAdmin",params:{process_taskType:"charge",process_taskStatus:"审批中"}}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("流程中心")])])]),a("router-link",{staticClass:"btn5",attrs:{tag:"div",to:{name:"ranking",params:{}}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("排行查看")])])]),2===t.$store.getters.currentRole?a("router-link",{staticClass:"btn4",attrs:{tag:"div",to:{name:"rulesList"}}},[a("p",[a("i",{staticClass:"icon"}),a("span",[t._v("设置")])])]):t._e()],1)]),a("FullPageLoading",{attrs:{loading:t.loading1}}),a("FullPageLoading",{attrs:{loading:t.loading2}})],1)},n=[],s=(a("8e6e"),a("456d"),a("bd86")),i=(a("ac6a"),a("7618")),o=a("41d6"),c=(a("455b"),a("bc3a")),l=a.n(c),u=a("e0eb"),d=a("4328"),g=a.n(d);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach(function(e){Object(s["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var m={name:"source-admin-index",data:function(){return{titlebar:[],sourceArr:[],detailSwiper:null,currentIndex:0,element:null,openId:"",avatar:"",name:"",charge:{},sign:{},canLoadIndex:0,loading1:!1,loading2:!1}},mounted:function(){this.titlebar=[{name:"本月",charge:{all:0,finished:0,doing:0,unfinish:0}},{name:"全部",charge:{all:0,finished:0,doing:0,unfinish:0}}]},beforeRouteEnter:function(t,e,a){a(function(t){4===t.$store.getters.currentRole?qing.call("setWebViewTitle",{title:"业务管理员首页"}):2===t.$store.getters.currentRole&&qing.call("setWebViewTitle",{title:"系统管理员首页"}),console.log(Object(i["a"])(t.$store.getters.sourceIDs)),console.log(t.$store.getters.sourceIDs),t.sourceArr=JSON.parse(t.$store.getters.sourceIDs);var e=new Date,a=(u["a"].getFirstDateOfMonthHMS(e),u["a"].getLastDateOfMonthHMS(e),u["a"].getFirstDateOfYearHMS(e),u["a"].getLastDateOfYearHMS(e),"http://rest.apizza.net/mock/21c5cf3ed4022de252a80d8e8366c6f7/getAmount"),r={endtime:void 0,starttime:void 0,state:void 0,life_done_type:void 0,level:1};r.endtime=[u["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],r.starttime=["1970-01-01 00:00:00",u["a"].getYearMonthDayHMSString(e)],r.life_done_type=void 0,r.state=[2,3,4],r.level=1;var n={name:"all",param:[]},s={};s.endtime=[u["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],s.starttime=["1970-01-01 00:00:00",u["a"].getLastDateOfMonthHMS(e)],s.life_done_type=1,s.state=[3],s.life_state=3,s.level=1;var c={name:"finished",param:[]},d={};d.starttime=["1970-01-01 00:00:00",u["a"].getYearMonthDayHMSString(e)],d.endtime=[u["a"].getYearMonthDayHMSString(e),"9999-12-31 23:59:59"],d.life_done_type=void 0,d.state=[2],d.level=1;var p={name:"doing",param:[]},m={};m.starttime=["1970-01-01 00:00:00",u["a"].getLastDateOfMonthHMS(e)],m.life_done_type=0,m.state=[3],m.life_state=3,m.level=1;var h={state:[2],starttime:["1970-01-01 00:00:00",u["a"].getLastDateOfMonthHMS(e)],endtime:[u["a"].getFirstDateOfMonthHMS(e),u["a"].getYearMonthDayHMSString(e)],level:1},v={name:"unfinish",param:[]};t.sourceArr.forEach(function(t){var e=f({},r);e.sourceID=t,n.param.push(e);var a=f({},s);a.sourceID=t,c.param.push(a);var i=f({},d);i.sourceID=t,p.param.push(i);var o=f({},m),l=f({},h);o.sourceID=t,l.sourceID=t,v.param.push(o),v.param.push(l)});var b=t.$createQueryList(void 0,"charge",0);t.sourceArr.length>0&&b.forEach(function(e){var a=e.param.length,r=t.$duplicate(e.param,t.sourceArr.length);t.sourceArr.forEach(function(t,e){r.forEach(function(n,s){s<(e+1)*a&&s>=e*a&&(n.sourceID=t,n=JSON.parse(JSON.stringify(n)),console.log(n),r[s]=n)})})}),t.loading1=!0,l()({method:"post",url:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:g.a.stringify({jsonStr:JSON.stringify(b)})}).then(function(e){if(t.loading1=!1,e.data.success){var a=e.data.result;t.titlebar[0].charge.all=a.all,t.titlebar[0].charge.finished=a.finished,t.titlebar[0].charge.doing=a.doing,t.titlebar[0].charge.unfinish=a.unfinish}else alert("获取本月数量失败，请重新登录")}).catch(function(){alert("获取本月数量失败，请重新登录"),t.loading1=!1});var S={};S.starttime=["1970-01-01 00:00:00",u["a"].getYearMonthDayHMSString(e)],S.endtime=[u["a"].getFirstDateOfYearHMS(e),"9999-12-31 23:59:59"],S.life_done_type=void 0,S.state=[2,3,4],S.level=1;var y={name:"all",param:[]},O={};O.endtime=[u["a"].getFirstDateOfMonthHMS(e),"9999-12-31 23:59:59"],O.starttime=["1970-01-01 00:00:00",u["a"].getLastDateOfYearHMS(e)],O.life_done_type=1,O.state=[3],O.life_state=3,O.level=1;var D={name:"finished",param:[]},_={};_.starttime=["1970-01-01 00:00:00",u["a"].getYearMonthDayHMSString(e)],_.endtime=[u["a"].getYearMonthDayHMSString(e),"9999-12-31 23:59:59"],_.life_done_type=void 0,_.state=[2],_.level=1;var k={name:"doing",param:[]},M={};M.starttime=["1970-01-01 00:00:00",u["a"].getLastDateOfYearHMS(e)],M.life_done_type=0,M.state=[3],M.life_state=3,M.level=1;var w={state:[2],starttime:["1970-01-01 00:00:00",u["a"].getLastDateOfYearHMS(e)],endtime:[u["a"].getFirstDateOfYearHMS(e),u["a"].getYearMonthDayHMSString(e)],level:1},C={name:"unfinish",param:[]},I={};I.starttime=["1970-01-01 00:00:00",u["a"].getLastDateOfYearHMS(e)],I.endtime=[u["a"].getFirstDateOfYearHMS(e),"9999-12-31 23:59:59"],I.state=[4],I.level=1;var H={name:"abolish",param:[]};t.sourceArr.forEach(function(t){var e=f({},S);e.sourceID=t,y.param.push(e);var a=f({},O);a.sourceID=t,D.param.push(a);var r=f({},_);r.sourceID=t,k.param.push(r);var n=f({},M),s=f({},w);n.sourceID=t,s.sourceID=t,C.param.push(n),C.param.push(s);var i=f({},I);i.sourceID=t,H.param.push(i)});var T=t.$createQueryList(void 0,"charge",1);t.sourceArr.length>0&&T.forEach(function(e){var a=e.param.length,r=t.$duplicate(e.param,t.sourceArr.length);t.sourceArr.forEach(function(t,e){r.forEach(function(n,s){s<(e+1)*a&&s>=e*a&&(n.sourceID=t,n=JSON.parse(JSON.stringify(n)),console.log(n),r[s]=n)})})}),t.loading2=!0,l()({method:"post",url:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:g.a.stringify({jsonStr:JSON.stringify(T)})}).then(function(e){if(t.loading2=!1,e.data.success){var a=e.data.result;t.titlebar[1].charge.all=a.all,t.titlebar[1].charge.finished=a.finished,t.titlebar[1].charge.doing=a.doing,t.titlebar[1].charge.unfinish=a.unfinish}else alert("获取年度数量失败，请重新登录")}).catch(function(){t.loading2=!1,alert("获取全部数量失败，请重新登录")}),t.$nextTick(function(){t.detailSwiper=new o["a"](".swiper-container",{pagination:{el:".swiper-pagination"},on:{slideChangeTransitionStart:function(){console.log(t.detailSwiper.activeIndex),t.currentIndex=t.detailSwiper.activeIndex}}})})})},beforeDestroy:function(){console.log("beforeDestroy")},beforeRouteLeave:function(t,e,a){console.log("beforeRouteLeave"),this.titlebar=[],a()},methods:{getCurrentIndex:function(t){this.currentIndex=t,this.detailSwiper.slideTo(this.currentIndex),console.log("e",t)}}},h=m,v=(a("5934"),a("2877")),b=Object(v["a"])(h,r,n,!1,null,"52d9d09b",null);e["default"]=b.exports}}]);