(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa451b64"],{"0fca":function(e,a,t){"use strict";var i=t("e845"),s=t.n(i);s.a},7530:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{height:"100%","background-color":"#fff"}},[t("div",{ref:"wrapper",staticClass:"scroll-wrap"},[t("div",{staticClass:"list-wrap"},[t("div",{staticClass:"block field"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!1,"redstar-visible":!1}},[e._v(e._s(e.detailObj.projectName))]),t("span",{staticClass:"status"},[e._v(e._s(e.getLifeType(e.detailObj.type)))])],1),t("div",{staticClass:"content",class:{folded:!e.folded}},[t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("责任人")]),t("div",{staticClass:"right"},[e._v(e._s(e.$judgeUndefined(e.detailObj.chargerName)))])]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("工作来源")]),e.detailObj.sourceList&&e.detailObj.sourceList[0]?t("div",{staticClass:"right"},[e._v("\n                            "+e._s(e.detailObj.sourceList[0].name)+"\n                        ")]):e._e()]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("启动时间")]),t("div",{staticClass:"right"},[e._v(e._s(e.detailObj.starttime&&e.detailObj.starttime.split(" ")[0]))])]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("完成时间")]),t("div",{staticClass:"right"},[e._v(e._s(e.detailObj.endtime&&e.detailObj.endtime.split(" ")[0]))])]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("单位")]),t("div",{staticClass:"right"},[e._v(e._s(e.$judgeUndefined(e.detailObj.unitName)))])]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("签发人")]),t("div",{staticClass:"right"},[e._v(e._s(e.$judgeUndefined(e.detailObj.signerName)))])]),t("div",{staticClass:"row"},[t("div",{staticClass:"label"},[e._v("协助人")]),t("div",{staticClass:"right"},[e._v(e._s(e.$judgeUndefined(e.detailObj.helperName)))])])]),t("div",{staticClass:"bottom"},[t("div",{on:{click:function(a){e.folded=!e.folded}}},[e.folded?t("p",[t("span",[e._v("展开")]),t("i",{staticClass:"icon"})]):t("p",{staticClass:"unfolded"},[t("span",[e._v("收起")]),t("i",{staticClass:"icon"})])])])]),1===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("现状及问题")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.problem||"暂无现状及问题"))])])]):e._e(),1===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("实施方法")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.ways||"暂无实施方法"))])])]):e._e(),1===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("预期目标")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.aim||"暂无预期目标"))])])]):e._e(),2===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("变更内容")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.change_info_string||"暂无变更内容"))])])]):e._e(),2===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("变更原因")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.change_reason||"暂无变更原因"))])])]):e._e(),3===e.detailObj.type&&1===e.detailObj.done_type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("div",[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("完结申请")])],1),t("span",[e._v("完成")])]),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.done_info||"暂无完结说明"))])])]):e._e(),3===e.detailObj.type&&0===e.detailObj.done_type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("div",[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("完结申请")])],1),t("span",[e._v("未完成")])]),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v("任务现状："+e._s(e.detailObj.done_going||"暂无任务现状"))]),t("p",{staticClass:"des"},[e._v("完结原因："+e._s(e.detailObj.done_reason||"暂无完结原因"))])])]):e._e(),4===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("废止原因")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(2===e.detailObj.cancel_type?"客观原因：":"主观原因：")+e._s(e.detailObj.cancel_reason||"暂无废止原因"))])])]):e._e(),5===e.detailObj.type?t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("反馈信息")])],1),t("div",{staticClass:"des-wrap"},[t("p",{staticClass:"des"},[e._v(e._s(e.detailObj.reply_info||"暂无反馈信息"))])])]):e._e(),t("div",{staticClass:"block"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!1,"redstar-visible":!1}},[e._v("审批信息")])],1),t("div",{staticClass:"des-wrap"},[t("div",{staticClass:"timeline"},[t("div",{staticClass:"item-wrap"},e._l(e.detailObj.lifePointList,function(a,i){return t("div",{staticClass:"item"},[t("div",{staticClass:"top"},[t("span",{staticClass:"status"},[e._v(e._s(a.approverName))]),t("span",{staticClass:"date"},[e._v(e._s(e.judgePointStatus(e.detailObj.lifePointList,i)||e.getPointStatus(a.state)))])]),t("div",{staticClass:"content-wrap"},[t("span",[e._v(e._s(a.info))])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"charger"},[t("span",[e._v(e._s(a.approveTime))])])])])}),0)])])]),e.$showReward(e.detailObj.reward)&&3===e.detailObj.type&&3===e.detailObj.state?t("div",{staticClass:"block rate-wrap"},[t("div",{staticClass:"title-wrap"},[t("field-title",{attrs:{"blueline-visible":!0,"redstar-visible":!1}},[e._v("卓越奖励")])],1),t("Rate",{attrs:{size:35,"read-only":!0},model:{value:e.detailObj.reward,callback:function(a){e.$set(e.detailObj,"reward",a)},expression:"detailObj.reward"}})],1):e._e()])]),t("image-panel",{attrs:{url:e.imageUrl,showImagePanel:e.showImagePanel},on:{"update:showImagePanel":function(a){e.showImagePanel=a},"update:show-image-panel":function(a){e.showImagePanel=a}}})],1)},s=[],l=(t("28a5"),t("ac6a"),t("7f7f"),t("5413")),n=t("fc99"),c=t("6dcf"),r={name:"taskLifeDetail",components:{"field-title":l["a"],"image-panel":n["a"],Rate:c["a"]},data:function(){return{detailObj:{},folded:!0,imageUrl:"",showImagePanel:!1,urlObj:[],change_info:{},change_info_string:""}},mounted:function(){this.$initScroll(this.scroll,this.$refs.wrapper)},beforeRouteEnter:function(e,a,t){qing.call("setWebViewTitle",{title:"流程详情"}),t(function(e){if("taskdetail"===a.name){var t=e.$route.params.detailObj;e.detailObj=JSON.parse(t),e.detailObj&&localStorage.setItem("life_detailObj",JSON.stringify(e.detailObj))}else e.detailObj=localStorage.getItem("life_detailObj");if(e.detailObj.imgs&&e.detailObj.imgs.length>0&&(e.urlObj=[],e.detailObj.imgs.split(",").forEach(function(a){e.urlObj.push({url:a})})),console.log("vm.detailObj.change_info",e.detailObj.change_info),e.detailObj.change_info){var i,s,l,n,c;if("string"===typeof e.detailObj.change_info?e.change_info=JSON.parse(e.detailObj.change_info):e.change_info=e.detailObj.change_info,e.change_info.after.endtime!==e.change_info.before.endtime&&(i="预计完成时间：由".concat(e.change_info.before.endtime.split(" ")[0],"变更为").concat(e.change_info.after.endtime.split(" ")[0],"\r\n"),e.change_info_string+=i),e.change_info.after.unitName!==e.change_info.before.unitName&&(s="单位名称：由".concat(e.change_info.before.unitName,"变更为").concat(e.change_info.after.unitName?e.change_info.after.unitName:"' '","\r\n"),e.change_info_string+=s),e.change_info.after.chargerName!==e.change_info.before.chargerName&&(l="责任人：由".concat(e.change_info.before.chargerName,"变更为").concat(e.change_info.after.chargerName?e.change_info.after.chargerName:"' '","\r\n"),e.change_info_string+=l),e.change_info.after.helperName!==e.change_info.before.helperName){var r=e.change_info.before.helperName;r=void 0===r||null===r||"undefined"===r||"null"===r?"未设置":e.change_info.before.helperName,n="协助人：由".concat(r,"变更为").concat(e.change_info.after.helperName?e.change_info.after.helperName:"' '","\r\n"),e.change_info_string+=n}if(e.change_info.after.aim!==e.change_info.before.aim){var d=e.change_info.before.aim;d=void 0===d||null===d||"undefined"===d||"null"===d?"未设置":e.change_info.before.aim,c="预计完成目标：由".concat(d,"变更为").concat(e.change_info.after.aim?e.change_info.after.aim:"' '","\r\n"),e.change_info_string+=c}}})},beforeDestroy:function(){this.urlObj=[]},methods:{onClickImage:function(e){this.imageUrl=e,this.showImagePanel=!0},getPointStatus:function(e){var a="";switch(e){case 0:a="待审批";break;case 1:a="审批中";break;case 2:a="通过";break;case 3:a="未通过";break;case 4:a="驳回";break;default:a="";break}return a},judgePointStatus:function(e,a){return e&&e.length>0&&e[a+1]&&1===e[a].type&&2===e[a+1].type?"协办":""},getTaskStatus:function(e){switch(e){case 0:this.state="暂存";break;case 1:this.state="新增";break;case 2:this.state="进行中";break;case 3:this.state="已完成";break;case 4:this.state="已废止";break;default:this.state="";break}return this.state},getLifeType:function(e){var a="";switch(e){case 1:a="新增";break;case 2:a="变更";break;case 3:a="完结";break;case 4:a="废止";break;case 5:a="反馈";break;case 6:a="传阅";break;default:a="";break}return a}}},d=r,o=(t("0fca"),t("2877")),b=Object(o["a"])(d,i,s,!1,null,"6d60680c",null);a["default"]=b.exports},e845:function(e,a,t){}}]);